# WordGet 故障排除指南

## 🔧 常见问题及解决方案

### 问题1: 点击扩展图标没有反应

**症状**: 点击浏览器工具栏的 WordGet 图标，侧边栏没有打开

**解决方案**:
1. **重新加载扩展**
   - 打开 `chrome://extensions/` (Chrome/Edge) 或 `edge://extensions/`
   - 找到 WordGet 扩展
   - 点击"重新加载"或刷新按钮 🔄
   
2. **检查扩展权限**
   - 确保扩展有 `sidePanel` 权限
   - 查看是否有错误提示

3. **检查浏览器版本**
   - Chrome/Edge 需要版本 114+（Side Panel API支持）
   - Firefox 需要版本 109+

4. **查看控制台错误**
   - 右键点击扩展图标 → 检查弹出式窗口
   - 查看是否有JavaScript错误

### 问题2: 快捷键保存后侧边栏不自动打开

**症状**: 按 `Ctrl+Shift+S` 保存单词后，侧边栏没有自动弹出

**可能原因及解决方案**:

#### 原因1: 自动打开设置被关闭
1. 点击扩展图标打开侧边栏
2. 点击右上角的设置按钮 ⚙️
3. 确保"保存单词后自动打开侧边栏"选项已勾选 ✅
4. 重新测试

#### 原因2: 内容脚本未加载
1. 刷新当前网页（F5）
2. 重新选择单词
3. 按 `Ctrl+Shift+S` 保存

#### 原因3: 扩展需要重新加载
1. 访问 `chrome://extensions/`
2. 找到 WordGet
3. 点击"重新加载"按钮
4. 刷新网页后重试

### 问题3: 快捷键不工作

**症状**: 按 `Ctrl+Shift+S` 没有任何反应

**解决方案**:

#### 检查快捷键设置
1. 访问 `chrome://extensions/shortcuts/`
2. 找到 WordGet 的"保存选中的单词到单词本"
3. 确认快捷键是否正确设置
4. 如果显示"未设置"，手动添加 `Ctrl+Shift+S`

#### 检查快捷键冲突
1. 在 `chrome://extensions/shortcuts/` 页面
2. 查看是否有其他扩展使用相同快捷键
3. 如有冲突，更改其他扩展的快捷键
4. 或者为 WordGet 设置不同的快捷键

#### 检查浏览器快捷键冲突
某些页面的快捷键可能被浏览器保留：
- Chrome 设置页面 (`chrome://settings/`)
- Chrome 扩展页面 (`chrome://extensions/`)
- Chrome 新标签页
- 在这些页面上，扩展快捷键可能不工作

**解决方法**: 在普通网页上测试（如 www.google.com）

### 问题4: 选中文字后按快捷键没反应

**症状**: 已选中文字，按快捷键后没有保存通知

**检查清单**:

1. **确认已选中文字**
   - 文字应该被高亮显示
   - 不要只是点击，要拖动鼠标选择

2. **检查网页类型**
   - 某些特殊页面可能不支持（如 Chrome 内部页面）
   - 尝试在普通网页上测试

3. **查看通知**
   - 保存成功时页面上会显示"已保存: [单词]"的通知
   - 如果没有通知，说明内容脚本可能未加载

4. **刷新页面**
   - 按 F5 刷新当前页面
   - 扩展图标应该显示为彩色（表示内容脚本已加载）
   - 重新选择文字并保存

### 问题5: 右键菜单没有"保存到 WordGet"选项

**症状**: 选中文字右键点击，没有看到 WordGet 菜单项

**解决方案**:

1. **重新加载扩展**
   - 访问 `chrome://extensions/`
   - 重新加载 WordGet 扩展
   - 刷新网页

2. **检查权限**
   - 确保扩展有 `contextMenus` 权限
   - 查看 manifest.json 中的 permissions

3. **文字选择**
   - 确保有选中文字（高亮状态）
   - 右键菜单项只在有选中文字时出现

### 问题6: PDF 中无法保存单词

**症状**: 在 PDF 文件中选中文字后无法保存

**解决方案**:

1. **使用浏览器内置 PDF 查看器**
   - Chrome 有内置 PDF 查看器
   - 不要使用第三方 PDF 插件

2. **检查 PDF 权限**
   - 确保扩展有 `<all_urls>` 权限
   - 在扩展设置中允许访问文件 URL

3. **刷新 PDF**
   - 关闭 PDF 标签页
   - 重新打开 PDF 文件
   - 重试保存单词

### 问题7: 侧边栏打开但是空白

**症状**: 侧边栏能打开，但是没有显示任何内容

**解决方案**:

1. **检查控制台错误**
   - 右键点击侧边栏 → 检查
   - 查看 Console 标签页的错误信息

2. **清除扩展数据**
   - 打开 `chrome://extensions/`
   - 找到 WordGet
   - 点击"详细信息"
   - 滚动到"网站设置"
   - 点击"清除存储"
   - 重新加载扩展

3. **检查文件完整性**
   - 确保所有文件都存在：
     - sidebar.html
     - sidebar.css
     - sidebar.js
   - 重新下载扩展如果文件缺失

### 问题8: 翻译不显示或加载失败

**症状**: 单词详情页显示"加载翻译中..."但一直不显示结果

**可能原因**:

1. **网络问题**
   - 检查网络连接
   - 翻译需要访问 Google Translate API
   - 确保没有被防火墙阻止

2. **API 限制**
   - Google Translate 免费 API 可能有使用限制
   - 等待几分钟后重试

3. **更换翻译服务**
   - 打开设置
   - 尝试更换翻译 API（有道、百度）
   - 需要相应的 API 密钥

### 问题9: 数据丢失

**症状**: 之前保存的单词不见了

**解决方案**:

1. **检查筛选条件**
   - 查看当前选中的筛选标签（全部/待复习/已掌握）
   - 清空搜索框
   - 点击"全部"标签

2. **刷新单词列表**
   - 点击刷新按钮 🔄
   - 或重新打开侧边栏

3. **检查存储**
   - 打开开发者工具
   - Application → Storage → Local Storage
   - 查看是否有 words 数据

4. **恢复备份**
   - 如果之前导出过数据
   - 使用"导入单词本"功能恢复

### 问题10: 导入导出失败

**症状**: 导出文件无法下载，或导入时提示错误

**导出问题**:
1. 检查浏览器下载设置
2. 允许浏览器弹出下载
3. 检查磁盘空间

**导入问题**:
1. 确保文件格式为 JSON
2. 文件应该是 WordGet 导出的格式
3. 文件内容应该是单词数组
4. 检查文件是否损坏

## 🔍 调试步骤

### 基本调试流程

1. **打开开发者工具**
   ```
   方法1: F12
   方法2: 右键 → 检查
   方法3: Ctrl+Shift+I (Windows/Linux)
   方法4: Cmd+Option+I (Mac)
   ```

2. **查看 Background Service Worker**
   - 访问 `chrome://extensions/`
   - 找到 WordGet
   - 点击"service worker"链接
   - 查看 Console 中的日志和错误

3. **查看 Content Script**
   - 打开任意网页
   - 按 F12 打开开发者工具
   - Console 标签页应该显示 "WordGet content script loaded"
   - 如果没有，刷新页面

4. **查看 Sidebar**
   - 打开侧边栏
   - 右键侧边栏 → 检查
   - 查看 Console 和 Network 标签页

### 收集错误信息

如果问题仍未解决，请收集以下信息：

1. **浏览器信息**
   - 浏览器名称和版本
   - 操作系统

2. **错误日志**
   - Background worker 控制台错误
   - Content script 控制台错误
   - Sidebar 控制台错误

3. **重现步骤**
   - 详细描述如何重现问题
   - 提供测试网页 URL

4. **截图**
   - 问题界面截图
   - 错误信息截图

## 📊 性能问题

### 侧边栏加载慢

1. **减少单词数量**
   - 导出旧单词作为备份
   - 删除不需要的单词
   - 每次只保留最近的 500-1000 个单词

2. **清理缓存**
   - 清除浏览器缓存
   - 重新加载扩展

### 翻译加载慢

1. **检查网络速度**
2. **更换翻译 API**
3. **减少并发翻译请求**

## ✅ 验证修复

### 测试清单

完成修复后，请测试以下功能：

- [ ] 点击扩展图标能打开侧边栏
- [ ] 按 `Ctrl+Shift+S` 能保存单词
- [ ] 保存后侧边栏自动打开（如果设置开启）
- [ ] 右键菜单能保存单词
- [ ] 单词列表正确显示
- [ ] 搜索和筛选功能正常
- [ ] 单词详情页显示完整
- [ ] 翻译能正常加载
- [ ] 发音功能可用
- [ ] 笔记能保存
- [ ] 导入导出功能正常

## 🆘 获取帮助

如果以上方法都无法解决问题：

1. **查看文档**
   - README.md
   - USAGE.md
   - INSTALLATION.md

2. **提交 Issue**
   - 访问 https://github.com/TTAWDTT/WordGet/issues
   - 提供详细的问题描述
   - 包含错误日志和截图

3. **检查更新**
   - 查看是否有新版本
   - 阅读 CHANGELOG.md

## 🔄 完全重置

如果所有方法都失败，尝试完全重置：

1. **备份数据**
   - 导出所有单词

2. **卸载扩展**
   - 在 `chrome://extensions/` 中移除扩展

3. **清除数据**
   - 清除浏览器缓存
   - 清除 Local Storage

4. **重新安装**
   - 重新加载扩展
   - 导入备份数据

5. **测试基本功能**
   - 从简单功能开始测试
   - 逐步验证所有功能

---

**希望这些解决方案能帮助您！** 🎯

如有任何问题，欢迎提交 Issue 或查看其他文档。
